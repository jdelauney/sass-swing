.slider {
  $ref: &;
  --slider-height: auto;
  --slider-max-width: default;
  --slider-horizontal-padding: 3em;
  --slides-visible: 1;
  --slides-count: 3;
  --slide-gap: 5px;
  --slide-width: calc(100% / var(--slides-visible));
  --slide-overlay-color: rgb(0 0 0 / 0.35);

  position: relative;
  height: var(--slider-height);
  max-width: var(--slider-max-width);
  padding: 0 var(--slider-horizontal-padding);
  overflow: hidden;

  &.slider--pagination-visible {
    padding-bottom: 3em;
  }

  &__slides-wrapper {
    display: block;
    overflow: hidden;
    width: 100%;
  }

  &__slides {
    --translate-offset: calc(var(--slide-index, 0) / var(--slides-count) * -100%);
    display: flex;
    list-style: none;
    transition: transform 0.6s ease-out;
    transform: translateX(var(--translate-offset));
    /*padding: 0;
    margin: 0;*/
  }

  &__controls {
    &-prev,
    &-next {
      position: absolute;
      //display: grid;
      //place-items: center;
      top: 50%;
      left: 0;
      transform: translateY(-50%);
      z-index: 700;
      margin: 0 !important;
    }

    &-next {
      left: unset;
      right: -0.625em;
    }
  }

  &--showControlsOnHover {
    #{$ref}__controls {
      &-next,
      &-prev {
        opacity: 0;
        transition: opacity 0.2s ease-out;
      }
    }

    &:hover {
      #{$ref}__controls {
        &-next,
        &-prev {
          opacity: 1;
        }
      }
    }
  }

  &__navigation {
    position: absolute;
    display: flex;
    height: 2.5em;
    left: 0;
    right: 0;
    bottom: 0.25em;
    margin: 0;
    padding: 0;
    gap: var(--half-spacing);
    align-items: center;
    justify-content: center;
    list-style: none;

    & button {
      display: grid;
      place-content: center;
      width: var(--dots-size, 0.8em);
      height: var(--dots-size, 0.8em);
      padding: 0;
      border-radius: 50%;
      //background-color: var(--primary-background);
      //border: var(--border-width) solid var(--primary-border-color);

      &[aria-current='true'] {
        transform: scale(0.85);
        background-color: var(--primary-focus);
        border: var(--border-width) solid var(--custom-hover-border-color);
      }

      &[data-action] {
        width: 1.5em;
        height: 1.5em;
        border-radius: var(--custom-border-radius);
      }
    }
  }
}

.slide {
  --auto-width: calc(var(--slide-width) - (var(--slide-gap) * 2));
  $ref: &;

  position: relative;
  display: flex;
  align-items: center;
  flex: 0 0 var(--auto-width);
  height: var(--slider-height);
  margin: 0 var(--slide-gap);
  padding: var(--inner-spacing);
  background-size: cover;
  background-position: center;
  background-repeat: no-repeat;
  cursor: grab;

  &.grabbing {
    cursor: grabbing;
  }

  &__content {
    display: flex;
    flex-direction: column;
    height: 100%;
    width: 100%;
  }

  &__overlay {
    position: absolute;
    display: grid;
    place-content: center;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    background-color: var(--slide-overlay-color);
    opacity: 0;
    transition: opacity 0.3s ease-in-out;
  }

  &:hover {
    #{$ref}__overlay {
      opacity: 1;
    }
  }
}
