var t,e;t=this,e=function(t){class e extends class{constructor(){this._observers={}}addEventListener(t,e){void 0===this._observers[t]&&(this._observers[t]=[]),this._observers[t].push(e)}removeEventListener(t,e){this._observers[t]=this._observers[t].filter((t=>{if(t!==e)return t}))}trigger(t,...e){if(void 0!==this._observers[t])for(let i=0;i<this._observers[t].length;i++)this._observers[t][i](...e)}}{constructor(t){if(super(),this.element='string'==typeof t?document.querySelector(t):t,null===this.element||void 0===this.element)return!1;this.isTouchScreen='ontouchstart'in window||navigator.maxTouchPoints>0||navigator.msMaxTounchPoints>0}}class i extends e{constructor(t,e){super(t),this.localStorageThemeModeKey=e,this.htmlRoot=document.querySelector('html'),this.currentTheme=window.localStorage.getItem(this.localStorageThemeModeKey),this.prefersDarkScheme=window.matchMedia('(prefers-color-scheme: dark)'),null!==this.currentTheme?this._toggleTheme(this.currentTheme):this.prefersDarkScheme.matches&&this._toggleTheme('dark'),this.onSwitcherClick=this._handlerSwitchClick.bind(this),this.element.addEventListener('click',this.onSwitcherClick)}_toggleTheme(t){this.currentTheme=t,this.htmlRoot.setAttribute('data-theme',this.currentTheme),window.localStorage.setItem(this.localStorageThemeModeKey,this.currentTheme)}_handlerSwitchClick(){const t='light'!==this.htmlRoot.getAttribute('data-theme')?'light':'dark';this._toggleTheme(t)}static bind(t='swing-theme-mode'){return Array.from(document.querySelectorAll('[data-js-themeSwitcher]')).map((e=>new i(e,t)))}}const s=(t,e,i)=>Math.min(Math.max(t,e),i);class n extends e{constructor(t){super(t),this.options=this._parseAttributs(),this.slidesPerPage=Number(getComputedStyle(this.element).getPropertyValue('--slides-per-page')),this.slidesContainer=this.element.querySelector('.slider__slides-wrapper > .slider__slides-inner > .slider__slides'),this.slides=this.slidesContainer.querySelectorAll('.slider__slide'),this.totalSlide=this.slides.length,this.element.style.setProperty('--slide-count',`"${this.totalSlide}"`),this.btnPrev=this.element.querySelector('.slider__controls-prev'),this.btnNext=this.element.querySelector('.slider__controls-next'),this.hasButtonControls=null!==this.btnPrev&&null!==this.btnNext,this._indicators=[],this.setFocus=this.options.showFocus,this.timer=null,this.animated=!1,this.animationSuspended=!0,this._elementWidth=this.element.offsetWidth,this._dragStartPos=0,this._dragThreshold=.2,this._dragDelta=0,this._isDragging=!1,this._dragRAFRef=null,this._grabElement=null,this.onButtonPrevClick=this._prevButtonClickHandler.bind(this),this.onButtonNextClick=this._nextButtonClickHandler.bind(this),this.onTransitionEnd=this._updateSlides.bind(this),this.onActionButtonClick=this._actionButtonClickHandler.bind(this),this.onSliderMouseenter=this._sliderMouseEnterEventHandler.bind(this),this.onSliderMouseleave=this._sliderMouseLeaveEventHandler.bind(this),this.onSliderfocusin=this._sliderMouseEnterEventHandler.bind(this),this.onSliderfocusout=this._sliderMouseLeaveEventHandler.bind(this),this.onTouchStart=this._touchStartHandler.bind(this),this.onTouchMove=this._touchMoveHandler.bind(this),this.onTouchEnd=this._touchEndHandler.bind(this),this.dragAnimBind=this._dragAnim.bind(this),this.hasButtonControls&&(this.btnPrev.addEventListener('click',this.onButtonPrevClick),this.btnNext.addEventListener('click',this.onButtonNextClick)),this.slidesContainer.addEventListener('transitionend',this.onTransitionEnd),this._nbIndicators=this.totalSlide,this.options.infinite&&this._cloneSlides(),this.options.slideByPage=this.slidesPerPage>1&&this.options.slideByPage,this.options.slideByPage&&(this.totalSlide=Math.floor(this.totalSlide/this.slidesPerPage),this._nbIndicators=this.options.infinite?this.totalSlide-2:this.totalSlide,this.slidesContainer.style.setProperty('--translate-slide-width','100%')),this.options.showIndicators&&this._createIndicators(),this._createLiveRegion();let e=0,i=this.totalSlide-1;this.options.slideByPage?this.options.infinite&&(e=1,i=this.totalSlide-2):this.options.infinite&&(e=this.slidesPerPage,i=this.totalSlide-this.slidesPerPage-1),this.currentSlide=s(this.options.startIndex,e,i),this.slides.forEach((t=>{t.addEventListener('mouseenter',this.onSliderMouseenter),t.addEventListener('mouseleave',this.onSliderMouseleave),t.addEventListener('touchstart',this.onTouchStart),t.addEventListener('touchmove',this.onTouchMove),t.addEventListener('touchend',this.onTouchEnd),t.addEventListener('mousedown',this.onTouchStart),t.addEventListener('mousemove',this.onTouchMove),t.addEventListener('mouseup',this.onTouchEnd),t.addEventListener('mouseleave',this.onTouchEnd)})),this.slidesContainer.style.transition='none',this._gotoSlide(this.currentSlide,this.setFocus),setTimeout((()=>{this.slidesContainer.style.transition=`all ${this.options.transitionSpeedInMs}ms ${this.options.transitionTimingFunc}`})),this.options.autoplay&&this._startAnimation()}_parseAttributs(){const t={showIndicators:!0,indicatorsPosition:'bottom',showButtonAction:!1,showFocus:!1,slideByPage:!1,infinite:!0,autoplay:!1,direction:1,startIndex:0,intervalInMs:5e3,transitionSpeedInMs:300,transitionTimingFunc:'ease-in-out'};return this.element.dataset.jsSlider.startsWith('{')?{...t,...JSON.parse(this.element.dataset.jsSlider)}:{...t}}_cloneSlides(){for(let t=0;t<this.slidesPerPage;t++){const e=this.slides[t].cloneNode(!0),i=this.slides[this.slides.length-1-t].cloneNode(!0);this.slidesContainer.append(e),this.slidesContainer.prepend(i)}this.slides=this.slidesContainer.querySelectorAll('.slider__slide'),this.totalSlide=this.options.slidePage?this.totalSlide+2:this.slides.length,this.element.style.setProperty('--slide-count',this.totalSlide)}_createLiveRegion(){this.liveRegion=document.createElement('div'),this.liveRegion.setAttribute('aria-live','polite'),this.liveRegion.setAttribute('aria-atomic','true'),this.liveRegion.setAttribute('class','slider__liveRegion sr-only'),this.element.appendChild(this.liveRegion)}_createActionButton(){const t=document.createElement('button'),e=document.createElement('span');e.className='sr-only',e.textContent=this.options.autoplay?'Stop animation':'Start animation',t.appendChild(e);let i=document.createElement('span');i.textContent=this.options.autoplay?'￭':'▶',t.appendChild(i);let s=this.options.autoplay?'stop':'start';return t.setAttribute('data-action',s),t.addEventListener('click',this.onActionButtonClick),t}_createIndicators(){const t=document.createElement('ul');if(t.className='slider__indicators',this.options.showButtonAction){const e=document.createElement('li');this.btnAction=this._createActionButton(),e.appendChild(this.btnAction),t.appendChild(e)}for(let e=0;e<this._nbIndicators;e++){const i=document.createElement('li'),s=document.createElement('button'),n=document.createElement('span');n.className='sr-only',n.textContent='Item '+e.toString()+' sur '+this._nbIndicators.toString(),s.appendChild(n),s.addEventListener('click',(()=>{const t=this.options.slideByPage?e+1:this.options.infinite?e+this.slidesPerPage:e;this._gotoSlide(t,!0)})),this._indicators.push(s),i.appendChild(s),t.appendChild(i)}'top'===this.options.indicatorsPosition?this.element.prepend(t):this.element.append(t)}_updateIndicators(t){this._indicators.forEach((t=>{t.removeAttribute('aria-current')})),this.options.infinite&&t>0&&(t===this._nbIndicators+1?t=0:--t),this._indicators[t].setAttribute('aria-current','true')}_updateLiveRegion(){this.liveRegion.textContent='Item '+this.currentSlide+' sur '+(this.totalSlide-2)}_setSlideIndex(t,e){this.slides.forEach((t=>{t.removeAttribute('aria-current'),t.setAttribute('aria-hidden','true')}));const i=this.slides[t];this.slidesContainer.style.setProperty('--slide-index',t.toString()),i.setAttribute('aria-hidden','false'),i.setAttribute('aria-current','true'),e&&(i.setAttribute('tabindex','-1'),i.focus()),this.options.showIndicators&&this._updateIndicators(t),this._updateLiveRegion(),this.currentSlide=t}_gotoSlide(t,e=!1){const i=s(t,0,this.totalSlide-1);this._setSlideIndex(i,e)}_shiftSlide(t,e=!1){const i=this.currentSlide+t;let n=s(i,0,this.totalSlide-1);this.animated&&this.options.infinite?n=s(i,-1,this.totalSlide):this.animated||this.options.infinite||(i<0?n=this.totalSlide-1:i>this.totalSlide-1&&(n=0)),this._gotoSlide(n,e)}_gotoPreviousSlide(t=!1){this._shiftSlide(-1,t)}_gotoNextSlide(t=!1){this._shiftSlide(1,t)}_updateSlides(){if(this.options.infinite){const t=this.options.slideByPage?0:this.slidesPerPage-1,e=this.options.slideByPage?this.totalSlide-1:this.totalSlide-this.slidesPerPage;if(this.currentSlide===t){this.slidesContainer.style.transition='none';const t=this.options.slideByPage?this.totalSlide-2:this.totalSlide-this.slidesPerPage-1;this._gotoSlide(t,this.setFocus&&!this.animated)}else if(this.currentSlide===e){this.slidesContainer.style.transition='none';const t=this.options.slideByPage?1:this.slidesPerPage;this._gotoSlide(t,this.setFocus&&!this.animated)}}this.options.infinite&&setTimeout((()=>{this.slidesContainer.style.transition=`all ${this.options.transitionSpeedInMs}ms ${this.options.transitionTimingFunc}`}))}_animate(){this.animated&&(this.animationSuspended=!1,1===this.options.direction?this.timer=setInterval((()=>{this._gotoNextSlide()}),this.options.intervalInMs):this.timer=setInterval((()=>{this._gotoPrevSlide()}),this.options.intervalInMs))}_startAnimation(){this.animated=!0,this.options.showIndicators&&this.options.showButtonAction&&(this.btnAction.innerHTML='<span class="sr-only">Stop animation</span><span>￭</span>',this.btnAction.setAttribute('data-action','stop')),this._animate()}_suspendAnimation(){!this.animationSuspended&&this.animated&&(clearInterval(this.timer),this.timer=null,this.animationSuspended=!0)}_resumeAnimation(){this.animationSuspended&&(this.animationSuspended=!1,this._animate())}_stopAnimation(){this._suspendAnimation(),this.animated=!1,this.options.showIndicators&&this.options.showButtonAction&&(this.btnAction.innerHTML='<span class="sr-only">Start animation</span><span>▶</span>',this.btnAction.setAttribute('data-action','start'))}_getMousePositionX(t){return t.type.includes('mouse')?t.pageX:t.touches[0].clientX}_prevButtonClickHandler(){this._gotoPreviousSlide(this.setFocus)}_nextButtonClickHandler(){this._gotoNextSlide(this.setFocus)}_actionButtonClickHandler(){'start'===this.btnAction.getAttribute('data-action')?this._startAnimation():this._stopAnimation()}_sliderMouseLeaveEventHandler(){this._resumeAnimation()}_sliderMouseEnterEventHandler(){this._suspendAnimation()}_dragAnim(){this._isDragging&&(this.slidesContainer.style.setProperty('--slide-index',(this.currentSlide+this._dragDelta).toString()),requestAnimationFrame(this.dragAnimBind))}_touchStartHandler(t){this._isDragging=!0,this._dragStartPos=this._getMousePositionX(t),this._grabElement=t.currentTarget,this._grabElement.classList.add('grabbing'),this._dragRAFRef=requestAnimationFrame(this.dragAnimBind)}_touchMoveHandler(t){if(this._isDragging){const e=this._getMousePositionX(t),i=this._dragStartPos-e;this._dragDelta=i/this._elementWidth}}_touchEndHandler(t){if(this._isDragging){cancelAnimationFrame(this._dragRAFRef),this._isDragging=!1,this._grabElement.classList.remove('grabbing');const e=this._getMousePositionX(t),i=this._dragStartPos-e;this._dragDelta=i/this._elementWidth,this._dragDelta>=this._dragThreshold?this._gotoNextSlide(this.setFocus):this._dragDelta<=-this._dragThreshold?this._gotoPreviousSlide(this.setFocus):this._gotoSlide(this.currentSlide,!0),this._dragDelta=0,this._dragStartPos=0}}static bind(){return Array.from(document.querySelectorAll('[data-js-slider]')).map((t=>new n(t)))}}class o extends e{constructor(t){super(t),this.tablist=this.element.querySelector('[role="tablist"]'),this.tabs=this.tablist.querySelectorAll('li > [role="tab"]'),this.panelSection=this.element.querySelector('section'),this.panels=this.panelSection.querySelectorAll('[role="tabpanel"]'),this.onTabClick=this._navClickHandler.bind(this),this.onTabKeydown=this._navKeydownHandler.bind(this),this.onTabKeyup=this._navKeyupHandler.bind(this),this.onWindowResize=this._windowResizeHandler.bind(this),this._init()}_switchTab(t){const e=t.key,i={ArrowLeft:-1,ArrowRight:1}[e],s=t.target.index;void 0!==s&&(this.tabs[s+i]?this.tabs[s+i].focus():'ArrowRight'===e?this._focusLastTab():'ArrowLeft'===e&&this._focusFirstTab())}_windowResizeHandler(){this._setPanelSectionHeight()}_navClickHandler(t){t.preventDefault();const e=t.target;this._showTab(e)}_navKeydownHandler(t){switch(t.key){case'Home':t.preventDefault(),this._focusFirstTab();break;case'End':t.preventDefault(),this._focusLastTab();break;case' ':t.stopImmediatePropagation(),t.preventDefault(),t.stopPropagation()}}_navKeyupHandler(t){switch(t.key){case'ArrowLeft':case'ArrowRight':t.preventDefault(),this._switchTab(t);break;case' ':case'Enter':t.preventDefault(),this._showTab(t.target)}}_getPanelHeight(t){if('none'!==getComputedStyle(t).display)return t.offsetHeight+4;t.style.display='block';const e=t.offsetHeight+4;return t.style.display='',e}_setPanelSectionHeight(){let t=0;this.panels.forEach((e=>{const i=this._getPanelHeight(e);t=Math.max(t,i)})),this.panelSection.style.height=t+'px'}_init(){this._setPanelSectionHeight(),this.tabs.forEach(((t,e)=>{t.addEventListener(this.isTouchScreen?'touchend':'click',this.onTabClick),t.addEventListener('keydown',this.onTabKeydown),t.addEventListener('keyup',this.onTabKeyup),t.index=e})),window.addEventListener('resize',this.onWindowResize)}_focusFirstTab(){this.tabs[0].focus()}_focusLastTab(){this.tabs[this.tabs.length-1].focus()}_showTab(t,e=!0){this._hideAllTabs(),t.setAttribute('tabindex','0'),t.setAttribute('aria-selected','true');const i=t.getAttribute('aria-controls'),s=document.getElementById(i);s.setAttribute('aria-hidden','false'),s.setAttribute('aria-expanded','true'),e&&t.focus()}_hideAllTabs(){this.tabs.forEach((t=>{t.setAttribute('tabindex','-1'),t.setAttribute('aria-selected','false')})),this.panels.forEach((t=>{t.setAttribute('aria-hidden','true'),t.setAttribute('aria-expanded','false')}))}static bind(){return Array.from(document.querySelectorAll('.tabs')).map((t=>new o(t)))}}class a extends e{constructor(t){super(t),this.options=this.parseAttribute(),this.target=this.element.querySelector('ul'),this.onClick=this.onClick.bind(this),this.onClickOutside=this.onClickOutside.bind(this),this.onMouseEnter=this.onMouseEnter.bind(this),this.onMouseLeave=this.onMouseLeave.bind(this),this.collapsed=!0,this.initListener()}parseAttribute(){const t={hideOnClickOutside:!0,showOnHover:!1};return this.element.dataset.jsDropdown.startsWith('{')?{...t,...JSON.parse(this.element.dataset.jsDropdown)}:{...t}}initListener(){this.options.showOnHover?(this.element.addEventListener('mouseenter',this.onMouseEnter),this.element.addEventListener('mouseleave',this.onMouseLeave)):this.element.addEventListener('click',this.onClick),this.options.hideOnClickOutside&&document.addEventListener('click',this.onClickOutside)}show(){this.target.classList.add('expanded'),this.element.setAttribute('aria-expanded','true'),this.target.setAttribute('aria-hidden','false'),this.collapsed=!1}hide(){this.target.classList.remove('expanded'),this.element.setAttribute('aria-expanded','false'),this.target.setAttribute('aria-hidden','true'),this.collapsed=!0}onMouseEnter(){this.show()}onMouseLeave(){this.hide()}onClick(){this.collapsed?this.show():this.hide()}onClickOutside(t){this.element.contains(t.target)||this.hide(),t.stopPropagation()}static bind(){return Array.from(document.querySelectorAll('[data-js-dropdown]')).map((t=>new a(t)))}}const r=new class{_defaultConfig={showDuration:0,closeOnClick:!1,displayCloseButton:!0,displayIcon:!0,animationType:'slide',position:'top-center'};_config={};_container;_notifications=[];_autoIncrement=0;constructor(t={}){this.setConfig(t)}setConfig(t={}){'number'!=typeof t.showDuration&&(t.showDuration=this._defaultConfig.showDuration),this._config={...this._defaultConfig,...this._config,...t}}_createContainer(t){this._container=document.querySelector('.notifications'),null===this._container&&(this._container=document.createElement('div'),this._container.className=`notifications notifications--${t.position}`,document.body.appendChild(this._container))}_mapAnimateIn(t='fade',e='bottom-right'){if('slide'===t)switch(e){case'top-right':case'mid-right':case'bottom-right':return' notification-animIn--slide-right';case'top-left':case'mid-left':case'bottom-left':return' notification-animIn--slide-left';case'top-center':case'mid-center':return' notification-animIn--slide-top';case'bottom-center':return' notification-animIn--slide-bottom'}return' notification-animIn--fade'}_mapAnimateOut(t='fade',e='bottom-right'){if('slide'===t)switch(e){case'top-right':case'mid-right':case'bottom-right':return' notification-animOut--slide-right';case'top-left':case'mid-left':case'bottom-left':return' notification-animOut--slide-left';case'top-center':case'mid-center':return' notification-animOut--slide-top';case'bottom-center':return' notification-animOut--slide-bottom'}return' notification-animOut--fade'}_render(t,e,i,s=null){if(!e&&!i)return;const n={...this._config,...s};this._createContainer(n);const o=document.createElement('div'),a=++this._autoIncrement;o.id='notification-'+a.toString(),o.setAttribute('role','status');let r='notification';''!==t&&'default'!==t&&(r+=` ui--${t}`);const l=''!==t&&'default'!==t&&'primary'!==t&&'secondary'!==t;if(r+=this._mapAnimateIn(n.animationType,n.position),o.className=r,n.displayCloseButton){const t=document.createElement('div');t.className='notification__close',!1===n.closeOnClick&&t.addEventListener('click',(()=>{this._hide(o,n)})),o.appendChild(t)}if(n.displayIcon&&!0===l){const t=document.createElement('span');o.appendChild(t)}const h=document.createElement('div');if(h.className='notification__content',''!==e){const t=document.createElement('h4');t.innerHTML=e,h.appendChild(t)}if(''!==i){const t=document.createElement('p');t.innerHTML=i,h.appendChild(t)}if(!0===n.closeOnClick&&(o.style.cursor='pointer',o.addEventListener('click',(()=>{this._hide(o,n)}))),o.appendChild(h),n.showDuration&&n.showDuration>0){const t=setTimeout((()=>{this._hide(o,n),clearTimeout(t)}),n.showDuration);(n.closeOnClick||n.displayCloseButton)&&o.addEventListener('click',(()=>{this._hide(o,n),clearTimeout(t)}))}return this._container.appendChild(o),this._notifications[o.id]=o,o}_removeNotification(t){t.target.remove(),delete this._notifications[t.target.id],setTimeout((()=>{if(0===this._container.querySelectorAll('.notification').length){const t=document.querySelector('.notifications');null!==t&&document.body.removeChild(t)}}),1e3)}_hide(t,e){t.className+=this._mapAnimateOut(e.animationType,e.position),t.addEventListener('animationend',this._removeNotification.bind(this),!1)}notify(t,e,i='default',s={}){this._render(i,t,e,s)}success(t,e,i={}){this.notify(t,e,'success',i)}warn(t,e,i={}){this.notify(t,e,'warning',i)}error(t,e,i={}){this.notify(t,e,'danger',i)}info(t,e,i={}){this.notify(t,e,'info',i)}getNotifications(){return this._notifications}},l=()=>{document.documentElement.style.setProperty('--doc-height',`${window.innerHeight}px`)};document.addEventListener('resize',((t,e=200)=>{let i=null;return(...s)=>{window.clearTimeout(i),i=window.setTimeout((()=>{i=null,t(...s)}),e)}})(l)),window.addEventListener('DOMContentLoaded',(()=>{i.bind(),o.bind(),a.bind(),n.bind(),l()})),t.Modalify=class extends e{_config={};_modalResult='';constructor(t){super(t);try{this.buttons=this.element.querySelectorAll('button'),this.buttons.forEach((t=>{(t.hasAttribute('value')||t.hasAttribute('data-modal-result'))&&t.addEventListener('click',this._buttonHandlerClick.bind(this))}))}catch(t){return null}this.element.addEventListener('close',(()=>{document.querySelector('html').classList.remove('disabled-scroll')}))}_buttonHandlerClick(t){t.preventDefault();const e=t.currentTarget;this._modalResult='',e.hasAttribute('value')?this._modalResult=e.value:e.hasAttribute('data-modal-result')&&(this._modalResult=e.getAttribute('data-modal-result'))}_animationsCompleted(){return Promise.allSettled(this.element.getAnimations().map((t=>t.finished)))}async close(){await this._animationsCompleted(),this.element.close()}async showModal(){document.querySelector('html').classList.add('disabled-scroll'),this.element.showModal();const t=[...this.buttons].map((t=>{return e=t,i='click',new Promise((t=>{const s=()=>{e.removeEventListener(i,s),t()};e.addEventListener(i,s)}));var e,i}));return await Promise.race(t),await this.close(),new Promise((t=>{t(this._modalResult)}))}getFormData(){const t=this.getForm();return t?new FormData(t):null}getForm(){const t=this.element.querySelector('form');if(t)return t}forceFormInputFileReset(){const t=this.getForm().querySelectorAll('input[type="file"]');t&&t.forEach((t=>{t.value=''}))}},t.notify=r,Object.defineProperty(t,'__esModule',{value:!0})},'object'==typeof exports&&'undefined'!=typeof module?e(exports):'function'==typeof define&&define.amd?define(['exports'],e):e((t='undefined'!=typeof globalThis?globalThis:t||self)['sass-swing']={});
